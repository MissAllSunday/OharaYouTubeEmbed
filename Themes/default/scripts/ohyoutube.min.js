/*
 Copyright (C) 2016 Jessica Gonz√°lez
 @license //www.mozilla.org/MPL/ MPL 2.0
 @version 1.2.5
*/

var _oh=function(){this.masterDiv=$(".oharaEmbed");this.basedElement=this.masterDiv.parent();this.defaultWidth="undefined"!==typeof _ohWidth?_ohWidth:480;this.defaultHeight="undefined"!==typeof _ohHeight?_ohHeight:270;this.aspectRatio=this.defaultHeight/this.defaultWidth;this.main();this.responsive()};
_oh.prototype.main=function(){$this=this;$(".youtube").each(function(){var b=this.id.replace("oh_",""),a=$this.getImage(b),c=$this.basedElement.height(),d=$this.basedElement.width();"undefined"!==typeof a&&$(this).css({"background-image":"url("+a+")","background-size":"cover"});$(this).append($("<div/>",{"class":"youtube_play"}));$(this).one("click",function(){var a="//www.youtube.com/embed/"+b+"?autoplay=1&autohide=1";$(this).data("params")&&(a+="&"+$(this).data("params"));a=$("<iframe/>",{frameborder:"0",
src:a,width:d,height:c});$(this).css({"background-image":"none"}).append(a);$(this).children(".youtube_play").css({height:"0"});$this.responsive()})})};_oh.prototype.responsive=function(){$this=this;$(window).resize(function(){var b=$this.basedElement.width(),a=b*$this.aspectRatio<=$this.defaultHeight?b*$this.aspectRatio:$this.defaultHeight,c=b<=$this.defaultWidth,d=c?b:$this.defaultWidth,e=c?a:$this.defaultHeight;$this.masterDiv.width(d).height(e);$(".oharaEmbed > iframe").each(function(){$(this).width(d).height(e)})}).resize()};
_oh.prototype.refresh=function(){$this=this;setTimeout(function(){$this.main()},3E3);setTimeout(function(){$this.responsive()},3E3)};_oh.prototype.getImage=function(b){var a="",c,d,e=["hqdefault","mqdefault","sddefault","maxresdefault"];c=0;for(d=e.length;c<d&&(a="//i.ytimg.com/vi/"+b+"/"+e[c]+".jpg",0==a.width);++c);0==a.width&&(a="//i.ytimg.com/vi/"+b+"/default.jpg");return a};(function(b){b(function(){var a=new _oh;b("input[name=preview]").on("click",function(){a.refresh()})})})(jQuery);